import { useEffect } from "react";
import { makeStyles } from "@material-ui/core";
import { Howl } from "howler";
import anime from "animejs";
import clsx from "clsx";

const useStyles = makeStyles({
    star: {
        height: "15vh"
    }
});

const Star = ({ active, className, id, onClick }) => {
    const cls = useStyles();

    useEffect(() => {
        anime({
            targets: `#star${id} #path-star, #star${id} #path-staro`,
            opacity: x => active ? (x.id === "path-staro" ? 0.8 : 1) : 0,
            easing: "linear",
            duration: 250
        });

        if (active)
            anime({
                targets: "#star" + id,
                scale: [0.9, 1],
                duration: 1000
            });
    }, [active]);

    const handleClick = () => {
        new Howl({
            src: require("../assets/sounds/Star.mp3"),
            autoplay: true
        });
        onClick && onClick();
    }

    return <svg className={clsx(cls.star, className, "pointer")} id={"star" + id} onClick={handleClick} viewBox="0 0 115 110">
        <path className="pointer" d="M58.0281 0.551031C61.067 0.569069 79.3164 34.5438 79.3164 34.5438C79.3164 34.5438 114.232 37.0711 114.963 40.3559C116.074 45.3383 91.926 71.2362 91.926 71.2362C91.926 71.2362 98.3942 107.744 95.5086 109.831C92.5892 111.943 58.032 93.5848 58.032 93.5848C58.032 93.5848 24.8868 110.781 21.5671 108.43C19.2451 106.786 25.4225 69.7291 25.4225 69.7291C25.4225 69.7291 -0.0318329 44.0456 2.98884e-05 39.3138C0.0239269 35.7042 40.4119 33.2692 40.4119 33.2692C40.4119 33.2692 55.4611 0.534998 58.0281 0.551031Z" fill="#AA5700" />
        <path className="pointer" d="M3.09955 39.334C2.81875 42.1779 7.54639 51.2167 24.3819 67.8153C23.7327 76.6758 21.0203 101.86 23.5594 102.846C26.0985 103.83 31.3957 65.0215 31.3957 65.0215L3.09955 39.334Z" fill="#BF721E" />
        <path className="pointer" d="M89.5687 68.5649C91.2535 69.5811 93.6033 81.9769 94.3203 86.7488C95.0352 91.5207 96.8872 108.37 95.5111 109.833C94.1331 111.296 60.5099 96.0843 60.2132 91.146C59.9145 86.2057 89.5687 68.5649 89.5687 68.5649Z" fill="#BF721E" />
        <path className="pointer" d="M57.8885 5.87507e-06C60.8119 0.0200476 76.1041 33.3495 76.1041 33.3495C76.1041 33.3495 111.695 35.7344 113.238 38.5804C114.783 41.4243 89.5661 68.5648 89.5661 68.5648C89.5661 68.5648 95.0923 104.492 93.3159 105.676C91.5356 106.861 56.9804 89.7489 56.9804 89.7489C56.9804 89.7489 24.9544 106.069 23.1342 104.033C21.3141 101.992 26.6352 67.8273 26.6352 67.8273C26.6352 67.8273 1.7862 41.1096 2.19643 38.2898C2.60467 35.4699 39.5575 32.7903 39.5575 32.7903C39.5575 32.7903 55.4212 -0.0160275 57.8885 5.87507e-06Z" fill="#5B1900" />
        <path className="pointer" d="M57.9091 11.3218C60.4223 11.3398 73.5717 39.2439 73.5717 39.2439C73.5717 39.2439 104.162 41.2461 105.49 43.6291C106.818 46.012 85.1458 68.7293 85.1458 68.7293C85.1458 68.7293 89.8993 98.808 88.3739 99.8001C86.8445 100.792 57.1405 86.4623 57.1405 86.4623C57.1405 86.4623 29.617 100.121 28.0518 98.4152C26.4845 96.7076 31.0548 68.104 31.0548 68.104C31.0548 68.104 9.69285 45.7294 10.0453 43.3705C10.3958 41.0096 42.157 38.773 42.157 38.773C42.157 38.773 55.7883 11.3078 57.9091 11.3218Z" fill="#813600" />
        <path className="pointer" id="path-star" opacity="0" d="M58.0822 11.2736C60.0657 11.3558 71.6259 40.256 71.6259 40.256C71.6259 40.256 102.421 40.6648 103.015 42.5067C103.053 42.6229 103.272 44.2162 103.062 44.8115C101.445 49.4171 82.1207 66.178 82.1207 66.178C82.1207 66.178 89.2918 96.5512 87.8699 97.5212C86.4461 98.4913 58.0822 83.2736 58.0822 83.2736C58.0822 83.2736 31.674 98.2107 30.2003 96.5693C28.7267 94.9258 35.1072 66.178 35.1072 66.178C35.1072 66.178 13.2215 46.6553 13.0363 44.4848C13.0263 44.3565 13.0801 42.7412 13.2812 42.6149C16.4775 40.6187 44.5426 40.254 44.5426 40.254C44.5426 40.254 56.1008 11.1894 58.0822 11.2736Z" fill="#995300" stroke="#995300" strokeWidth="1.18284" strokeMiterlimit="10" />
        <path className="pointer" id="path-star" opacity="0" d="M58.0827 9.13299C60.0662 9.21717 71.6264 38.1154 71.6264 38.1154C71.6264 38.1154 102.607 40.2759 103.202 42.1197C103.8 43.9615 82.1212 64.0373 82.1212 64.0373C82.1212 64.0373 89.2923 94.4086 87.8704 95.3806C86.4465 96.3526 58.0827 81.1329 58.0827 81.1329C58.0827 81.1329 31.6745 96.07 30.2008 94.4266C28.7272 92.7832 35.1077 64.0353 35.1077 64.0353C35.1077 64.0353 11.9056 44.0176 12.9691 42.1197C14.0325 40.2197 44.5431 38.1154 44.5431 38.1154C44.5431 38.1154 56.1013 9.04882 58.0827 9.13299Z" fill="#E48910" />
        <path className="pointer" id="path-staro" opacity="0" d="M73.1924 63.498C73.7221 65.5623 76.9721 78.0443 75.4029 79.301C73.1745 81.0847 58.5395 72.8155 58.5395 72.8155C58.5395 72.8155 43.4127 81.3913 42.0187 79.8742C40.786 78.5314 41.4711 71.1901 41.4711 71.1901" fill="#FFD93B" />
        <path className="pointer" id="path-staro" opacity="0" d="M85.7164 58.1772C85.7164 58.1772 103.235 43.3363 103.008 42.0937C102.781 40.8471 71.627 38.1154 71.627 38.1154C71.627 38.1154 60.1226 9.13105 58.171 9.13306C56.2174 9.13707 44.5437 38.1154 44.5437 38.1154C44.5437 38.1154 13.3859 40.5365 12.7945 41.9414C12.199 43.3423 35.3772 63.1395 35.3772 63.1395C35.3772 63.1395 29.0345 93.4567 30.2672 94.2523C31.6333 95.1342 51.3126 84.7706 51.3126 84.7706C51.3126 84.7706 34.4671 90.5606 34.025 90.0255C33.5829 89.4924 36.8469 74.9782 36.8509 74.9662C53.296 72.9399 79.7779 62.7367 85.7164 58.1772Z" fill="#FFD93B" />
        <path className="pointer" id="path-star" opacity="0" d="M46.7533 32.7322L44.5429 38.1154C44.5429 38.1154 13.5046 40.5284 12.7936 41.9414C12.4909 43.5587 27.3509 56.163 27.3509 56.163C27.3509 56.163 21.8088 45.8755 24.0213 44.0036C26.2357 42.1318 45.0029 41.777 45.9767 40.797C46.9505 39.8169 46.7533 32.7322 46.7533 32.7322Z" fill="#FFFF69" />
        <path className="pointer" id="path-star" opacity="0" d="M22.7512 43.3764C24.8223 39.7068 37.2986 39.6526 36.972 43.5788C36.4502 49.8318 19.097 49.888 22.7512 43.3764Z" fill="#FFFF69" />
        <path className="pointer" id="path-star" opacity="0" d="M42.0191 53.1307C42.0191 53.1307 32.3129 45.11 29.8833 45.4547C27.4458 45.8034 18.2773 55.3954 18.2773 55.3954C18.2773 55.3954 27.6968 45.5449 27.5315 43.4666C27.3602 41.3983 18.2773 33.4557 18.2773 33.4557C18.2773 33.4557 27.6908 41.3682 29.495 41.1037C31.3072 40.8331 38.6894 32.606 38.6894 32.606C38.6894 32.606 31.3451 40.9553 31.8449 43.0838C32.3527 45.2162 42.0191 53.1307 42.0191 53.1307Z" fill="white" />
        <path className="pointer" id="path-star" opacity="0" d="M62.7297 82.6842C62.9049 83.9929 84.1056 95.4247 88.0008 95.4247C88.8731 92.7211 82.1221 66.1758 82.1221 66.1758C82.1221 66.1758 85.0694 89.6827 83.8308 90.3982C82.5921 91.1097 62.5524 81.3754 62.7297 82.6842Z" fill="#FFD93B" />
        <path className="pointer" id="path-star" opacity="0" d="M47.6914 30.4813C47.6914 30.4813 56.5532 9.27518 58.1703 9.13288C59.7873 8.98858 71.1484 36.9127 71.1484 36.9127C71.1484 36.9127 59.4806 17.7228 57.8974 17.7228C56.3123 17.7228 47.6914 30.4813 47.6914 30.4813Z" fill="#FFFF69" />
        <path className="pointer" id="path-star" opacity="0" d="M83.2488 39.1035C88.5599 39.1035 102.219 41.0215 102.91 42.2881C103.603 43.5548 82.7012 63.4983 82.7012 63.4983C82.7012 63.4983 96.438 46.4087 95.731 44.1801C95.0221 41.9535 83.2488 39.1035 83.2488 39.1035Z" fill="#FFFF69" />
        <path className="pointer" id="path-star" opacity="0" d="M58.078 30.8944C59.1792 30.9405 65.6035 46.9979 65.6035 46.9979C65.6035 46.9979 82.8134 48.1944 83.144 49.2205C83.4746 50.2447 71.4324 61.3979 71.4324 61.3979C71.4324 61.3979 75.1803 77.0425 74.3917 77.5836C73.6011 78.1227 58.078 70.8957 58.078 70.8957C58.078 70.8957 43.8234 78.74 43.0029 77.8281C42.1824 76.9142 45.311 61.3979 45.311 61.3979C45.311 61.3979 32.4205 50.2747 33.0119 49.2205C33.6014 48.1664 50.5544 46.9979 50.5544 46.9979C50.5544 46.9979 56.9767 30.8483 58.078 30.8944Z" fill="#C96605" />
        <path className="pointer" id="path-star" opacity="0" d="M58.0782 35.6383C58.9624 35.6763 64.1142 48.5552 64.1142 48.5552C64.1142 48.5552 77.9187 49.5152 78.1855 50.3389C78.4504 51.1606 68.792 60.1072 68.792 60.1072C68.792 60.1072 71.9862 73.6394 71.353 74.0723C70.7197 74.5072 58.0801 67.7251 58.0801 67.7251C58.0801 67.7251 46.3128 74.3809 45.6557 73.6474C44.9985 72.9159 47.8423 60.1052 47.8423 60.1052C47.8423 60.1052 37.5028 51.1826 37.9767 50.3369C38.4507 49.4891 52.0461 48.5532 52.0461 48.5532C52.0461 48.5532 57.196 35.6022 58.0782 35.6383Z" fill="#E48910" />
        <path className="pointer" id="path-staro" opacity="0" d="M67.6155 60.1269C67.6155 60.1269 77.1046 52.497 76.6446 50.8616C76.1866 49.2262 63.8736 48.9196 63.8736 48.9196C63.8736 48.9196 59.0404 36.5318 58.0806 36.5217C57.0908 36.5117 52.5902 49.156 52.5902 49.156C52.5902 49.156 39.2258 50.1361 39.1143 51.0079C39.0028 51.8797 48.2529 60.0087 48.2529 60.0087C47.4504 61.9146 46.6359 70.4644 47.1656 71.0877C47.6973 71.711 57.8974 66.1775 57.8974 66.1775C57.8974 66.1775 68.0576 71.8092 69.121 71.1378C70.1824 70.4624 67.6155 60.1269 67.6155 60.1269Z" fill="#FFD93B" />
        <path className="pointer" id="path-star" opacity="0" d="M57.8967 40.1375C56.0745 40.1375 52.8484 49.8817 52.6612 50.3166C52.476 50.7496 42.7081 50.1323 42.4233 51.7196C42.258 52.6455 48.1646 58.1991 49.8274 58.9446C48.7142 61.6122 47.7882 67.8191 48.7142 68.3783C49.6382 68.9374 57.8947 63.8468 57.8947 63.8468C57.8947 63.8468 65.9181 67.9434 67.2145 67.2619C68.5089 66.5785 65.3008 58.8224 65.3008 58.8224C65.3008 58.8224 72.8244 52.7257 72.5157 51.3047C72.209 49.8858 62.1563 49.2023 62.1563 49.2023C62.1563 49.2023 59.4201 40.1375 57.8967 40.1375Z" fill="#FFFF69" />
    </svg>
}

export default Star;